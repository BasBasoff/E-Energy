{% extends "app/layout.html" %}

{% block content %}

<h2>{{ device.device_name }}</h2>

<div class="entrances">
    <table class="table">
		<thead>
			<tr>
				<td>Вход</td>
				<td>Выход</td>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>
					<div class="chart" id="current_in_A_chart"></div>
				</td>
				<td></td>
			</tr>
			<tr>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td></td>
				<td></td>
			</tr>
			<tr>
				<td></td>
				<td></td>
			</tr>
		</tbody>
	</table>

    <script type="text/javascript">
        //TODO: Здесь должна быть отрисовка всех этих графиков
    </script>
</div>

<div class="modal fade" id="{{param.parameter_name}}_in" tabindex="-1" role="img" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered position-static">
		<div class="modal-content">
			<div class="modal-header">
			    <h5 class="modal-title">{#chart.name#}</h5>
			    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			        <span aria-hidden="true">&times;</span>
			    </button>
			</div>
			<div class="modal-body">
			    <div class="ct-chart ct-perfect-fourth" id="chart-large{{param.parameter_name}}_in">            
			    </div>
			</div>
			<div class="modal-footer">
			    <button type="button" class="btn btn-secondary" data-dismiss="modal">Закрыть</button>
			</div>
		</div>
	</div>
</div>
<div class="modal fade" id="{{param.parameter_name}}_out" tabindex="-1" role="img" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered position-static">
		<div class="modal-content">
			<div class="modal-header">
			    <h5 class="modal-title">{#chart.name#}</h5>
			    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			        <span aria-hidden="true">&times;</span>
			    </button>
			</div>
			<div class="modal-body">
			    <div class="ct-chart ct-perfect-fourth" id="chart-large{{param.parameter_name}}_out">            
			    </div>
			</div>
			<div class="modal-footer">
			    <button type="button" class="btn btn-secondary" data-dismiss="modal">Закрыть</button>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
	var data = {
		series: {{current_in_A}}
	};
	new Chartist.Line('#current_in_A_chart', data);
	
	
	/*data_arr = []
	values.forEach(el => data_arr.push(Number(el.data)));
	date_arr = []
	values.forEach(el => date_arr.push(Date(el.date)));

	var data = {
		// A labels array that can contain any sort of values
		labels: date_arr,
		// Our series array that contains series objects or in this case series data arrays
		series: [data_arr]
	};
	
	
	// Create a new line chart object where as first parameter we pass in a selector
	// that is resolving to our chart container element. The Second parameter
	// is the actual data object.
	new Chartist.Line('#chart', data);
	new Chartist.Line('#chart-large', data);*/
</script>

{% endblock %}
